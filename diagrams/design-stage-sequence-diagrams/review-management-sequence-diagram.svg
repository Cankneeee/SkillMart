<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="3429px" preserveAspectRatio="none" style="width:1307px;height:3429px;background:#FFFFFF;" version="1.1" viewBox="0 0 1307 3429" width="1307px" zoomAndPan="magnify"><title>Review Management Sequence Diagram (Design Phase)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="442.2373" x="433.4268" y="27.9951">Review Management Sequence Diagram (Design Phase)</text><rect fill="none" height="472.9297" style="stroke:#000000;stroke-width:1.5;" width="1260.0908" x="30" y="397.7891"/><rect fill="none" height="323.2656" style="stroke:#000000;stroke-width:1.5;" width="666.1353" x="613.9556" y="451.0547"/><rect fill="none" height="891.1328" style="stroke:#000000;stroke-width:1.5;" width="1290.0908" x="10" y="972.1172"/><rect fill="none" height="657.3984" style="stroke:#000000;stroke-width:1.5;" width="1270.0908" x="20" y="1154.9141"/><rect fill="none" height="494.9297" style="stroke:#000000;stroke-width:1.5;" width="1250.0908" x="30" y="1266.4453"/><rect fill="none" height="699.5313" style="stroke:#000000;stroke-width:1.5;" width="1270.0908" x="20" y="2052.0469"/><rect fill="none" height="465.7969" style="stroke:#000000;stroke-width:1.5;" width="1250.0908" x="30" y="2234.8438"/><rect fill="none" height="320.1328" style="stroke:#000000;stroke-width:1.5;" width="1174.9922" x="30" y="3011.6406"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="3230.1797" width="8" x="54.9551" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="58" x2="58" y1="118.5938" y2="3348.7734"/></g><g><title>User Interface</title><rect fill="#000000" fill-opacity="0.00000" height="3230.1797" width="8" x="321.627" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="325.1074" x2="325.1074" y1="118.5938" y2="3348.7734"/></g><g><title>Validation Utility</title><rect fill="#000000" fill-opacity="0.00000" height="3230.1797" width="8" x="543.4312" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="546.5068" x2="546.5068" y1="118.5938" y2="3348.7734"/></g><g><title>Database Utility</title><rect fill="#000000" fill-opacity="0.00000" height="3230.1797" width="8" x="683.1709" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="686.9556" x2="686.9556" y1="118.5938" y2="3348.7734"/></g><g><title>Auth Utility</title><rect fill="#000000" fill-opacity="0.00000" height="3230.1797" width="8" x="802.6074" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="806.3862" x2="806.3862" y1="118.5938" y2="3348.7734"/></g><g><title>AI Utility</title><rect fill="#000000" fill-opacity="0.00000" height="3230.1797" width="8" x="910.7031" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="914.0352" x2="914.0352" y1="118.5938" y2="3348.7734"/></g><g><title>Supabase</title><rect fill="#000000" fill-opacity="0.00000" height="3230.1797" width="8" x="1149.6929" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1153.3936" x2="1153.3936" y1="118.5938" y2="3348.7734"/></g><g><title>OpenAI</title><rect fill="#000000" fill-opacity="0.00000" height="3230.1797" width="8" x="1233.5415" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1236.9922" x2="1236.9922" y1="118.5938" y2="3348.7734"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="40" y="115.292">User</text><ellipse cx="58.9551" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M58.9551,58.7969 L58.9551,85.7969 M45.9551,66.7969 L71.9551,66.7969 M58.9551,85.7969 L45.9551,100.7969 M58.9551,85.7969 L71.9551,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="40" y="3360.7686">User</text><ellipse cx="58.9551" cy="3372.5703" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M58.9551,3380.5703 L58.9551,3407.5703 M45.9551,3388.5703 L71.9551,3388.5703 M58.9551,3407.5703 L45.9551,3422.5703 M58.9551,3407.5703 L71.9551,3422.5703" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="UI"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.0391" x="269.1074" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.0391" x="276.1074" y="107.292">User Interface</text></g><g class="participant participant-tail" data-participant="UI"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.0391" x="269.1074" y="3347.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.0391" x="276.1074" y="3367.7686">User Interface</text></g><g class="participant participant-head" data-participant="ValidationUtil"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129.8486" x="482.5068" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.8486" x="489.5068" y="107.292">Validation Utility</text></g><g class="participant participant-tail" data-participant="ValidationUtil"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129.8486" x="482.5068" y="3347.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.8486" x="489.5068" y="3367.7686">Validation Utility</text></g><g class="participant participant-head" data-participant="DBUtil"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126.4307" x="623.9556" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.4307" x="630.9556" y="107.292">Database Utility</text></g><g class="participant participant-tail" data-participant="DBUtil"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126.4307" x="623.9556" y="3347.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.4307" x="630.9556" y="3367.7686">Database Utility</text></g><g class="participant participant-head" data-participant="AuthUtil"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92.4424" x="760.3862" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.4424" x="767.3862" y="107.292">Auth Utility</text></g><g class="participant participant-tail" data-participant="AuthUtil"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92.4424" x="760.3862" y="3347.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.4424" x="767.3862" y="3367.7686">Auth Utility</text></g><g class="participant participant-head" data-participant="AIUtil"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73.3359" x="878.0352" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.3359" x="885.0352" y="107.292">AI Utility</text></g><g class="participant participant-tail" data-participant="AIUtil"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73.3359" x="878.0352" y="3347.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.3359" x="885.0352" y="3367.7686">AI Utility</text></g><g class="participant participant-head" data-participant="Supabase"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82.5986" x="1112.3936" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.5986" x="1119.3936" y="107.292">Supabase</text></g><g class="participant participant-tail" data-participant="Supabase"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82.5986" x="1112.3936" y="3347.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.5986" x="1119.3936" y="3367.7686">Supabase</text></g><g class="participant participant-head" data-participant="OpenAI"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.0986" x="1204.9922" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.0986" x="1211.9922" y="107.292">OpenAI</text></g><g class="participant participant-tail" data-participant="OpenAI"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.0986" x="1204.9922" y="3347.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.0986" x="1211.9922" y="3367.7686">OpenAI</text></g><g class="message" data-participant-1="User" data-participant-2="UI"><polygon fill="#181818" points="313.627,145.7266,323.627,149.7266,313.627,153.7266,317.627,149.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="58.9551" x2="319.627" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="65.9551" y="144.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.9067" x="79.0005" y="144.6606">View listing details</text></g><g class="message" data-participant-1="UI" data-participant-2="DBUtil"><polygon fill="#181818" points="675.1709,174.8594,685.1709,178.8594,675.1709,182.8594,679.1709,178.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="681.1709" y1="178.8594" y2="178.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="332.627" y="173.7935">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.3403" x="345.6724" y="173.7935">getListingReviews(listingId)</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="Supabase"><polygon fill="#181818" points="1141.6929,203.9922,1151.6929,207.9922,1141.6929,211.9922,1145.6929,207.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="687.1709" x2="1147.6929" y1="207.9922" y2="207.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="694.1709" y="202.9263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.8906" x="707.2163" y="202.9263">Query reviews with author info</text></g><g class="message" data-participant-1="Supabase" data-participant-2="DBUtil"><polygon fill="#181818" points="698.1709,233.125,688.1709,237.125,698.1709,241.125,694.1709,237.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="692.1709" x2="1152.6929" y1="237.125" y2="237.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="704.1709" y="232.0591">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.5488" x="717.2163" y="232.0591">Return reviews data</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="UI"><polygon fill="#181818" points="336.627,262.2578,326.627,266.2578,336.627,270.2578,332.627,266.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="330.627" x2="686.1709" y1="266.2578" y2="266.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="342.627" y="261.1919">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.2163" x="355.6724" y="261.1919">Return formatted reviews</text></g><g class="message" data-participant-1="UI" data-participant-2="DBUtil"><polygon fill="#181818" points="675.1709,291.3906,685.1709,295.3906,675.1709,299.3906,679.1709,295.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="681.1709" y1="295.3906" y2="295.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="332.627" y="290.3247">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.8003" x="345.6724" y="290.3247">getListingRating(listingId)</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="Supabase"><polygon fill="#181818" points="1141.6929,320.5234,1151.6929,324.5234,1141.6929,328.5234,1145.6929,324.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="687.1709" x2="1147.6929" y1="324.5234" y2="324.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="694.1709" y="319.4575">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.71" x="707.2163" y="319.4575">Calculate average rating</text></g><g class="message" data-participant-1="Supabase" data-participant-2="DBUtil"><polygon fill="#181818" points="698.1709,349.6563,688.1709,353.6563,698.1709,357.6563,694.1709,353.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="692.1709" x2="1152.6929" y1="353.6563" y2="353.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="704.1709" y="348.5903">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.4336" x="717.2163" y="348.5903">Return rating stats</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="UI"><polygon fill="#181818" points="336.627,378.7891,326.627,382.7891,336.627,386.7891,332.627,382.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="330.627" x2="686.1709" y1="382.7891" y2="382.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="342.627" y="377.7231">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.0088" x="355.6724" y="377.7231">Return rating data</text></g><path d="M30,397.7891 L94.4429,397.7891 L94.4429,404.9219 L84.4429,414.9219 L30,414.9219 L30,397.7891" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="472.9297" style="stroke:#000000;stroke-width:1.5;" width="1260.0908" x="30" y="397.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="45" y="410.856">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="147.0391" x="109.4429" y="409.9995">[multiple reviews exist]</text><g class="message" data-participant-1="UI" data-participant-2="AIUtil"><polygon fill="#181818" points="902.7031,432.0547,912.7031,436.0547,902.7031,440.0547,906.7031,436.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="908.7031" y1="436.0547" y2="436.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="430.9888">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.5625" x="354.7178" y="430.9888">getReviewSummary(listingId)</text></g><path d="M613.9556,451.0547 L678.3984,451.0547 L678.3984,458.1875 L668.3984,468.1875 L613.9556,468.1875 L613.9556,451.0547" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="323.2656" style="stroke:#000000;stroke-width:1.5;" width="666.1353" x="613.9556" y="451.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="628.9556" y="464.1216">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="107.8838" x="693.3984" y="463.2651">[summary exists]</text><g class="message" data-participant-1="AIUtil" data-participant-2="Supabase"><polygon fill="#181818" points="1141.6929,485.3203,1151.6929,489.3203,1141.6929,493.3203,1145.6929,489.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="914.7031" x2="1147.6929" y1="489.3203" y2="489.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="921.7031" y="484.2544">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.3926" x="943.7939" y="484.2544">Query existing summary</text></g><g class="message" data-participant-1="Supabase" data-participant-2="AIUtil"><polygon fill="#181818" points="925.7031,514.4531,915.7031,518.4531,925.7031,522.4531,921.7031,518.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="919.7031" x2="1152.6929" y1="518.4531" y2="518.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="931.7031" y="513.3872">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.3101" x="953.7939" y="513.3872">Return cached summary</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="613.9556" x2="1280.0908" y1="527.4531" y2="527.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="156.6802" x="618.9556" y="537.6636">[generate new summary]</text><g class="message" data-participant-1="AIUtil" data-participant-2="DBUtil"><polygon fill="#181818" points="698.1709,558.3906,688.1709,562.3906,698.1709,566.3906,694.1709,562.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="692.1709" x2="913.7031" y1="562.3906" y2="562.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="704.1709" y="557.3247">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.4414" x="726.2617" y="557.3247">getReviewContent(listingId)</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="Supabase"><polygon fill="#181818" points="1141.6929,587.5234,1151.6929,591.5234,1141.6929,595.5234,1145.6929,591.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="687.1709" x2="1147.6929" y1="591.5234" y2="591.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="694.1709" y="586.4575">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.3706" x="716.2617" y="586.4575">Get review texts</text></g><g class="message" data-participant-1="Supabase" data-participant-2="DBUtil"><polygon fill="#181818" points="698.1709,616.6563,688.1709,620.6563,698.1709,624.6563,694.1709,620.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="692.1709" x2="1152.6929" y1="620.6563" y2="620.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="704.1709" y="615.5903">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.2661" x="726.2617" y="615.5903">Return review content</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="AIUtil"><polygon fill="#181818" points="902.7031,645.7891,912.7031,649.7891,902.7031,653.7891,906.7031,649.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="687.1709" x2="908.7031" y1="649.7891" y2="649.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="694.1709" y="644.7231">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.1528" x="716.2617" y="644.7231">Return review texts</text></g><g class="message" data-participant-1="AIUtil" data-participant-2="OpenAI"><polygon fill="#181818" points="1225.5415,674.9219,1235.5415,678.9219,1225.5415,682.9219,1229.5415,678.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="914.7031" x2="1231.5415" y1="678.9219" y2="678.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="921.7031" y="673.856">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.853" x="943.7939" y="673.856">Generate summary with pros/cons</text></g><g class="message" data-participant-1="OpenAI" data-participant-2="AIUtil"><polygon fill="#181818" points="925.7031,704.0547,915.7031,708.0547,925.7031,712.0547,921.7031,708.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="919.7031" x2="1236.5415" y1="708.0547" y2="708.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="931.7031" y="702.9888">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.7183" x="953.7939" y="702.9888">Return analysis</text></g><g class="message" data-participant-1="AIUtil" data-participant-2="Supabase"><polygon fill="#181818" points="1141.6929,733.1875,1151.6929,737.1875,1141.6929,741.1875,1145.6929,737.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="914.7031" x2="1147.6929" y1="737.1875" y2="737.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="921.7031" y="732.1216">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.8989" x="943.7939" y="732.1216">Store summary for future use</text></g><g class="message" data-participant-1="Supabase" data-participant-2="AIUtil"><polygon fill="#181818" points="925.7031,762.3203,915.7031,766.3203,925.7031,770.3203,921.7031,766.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="919.7031" x2="1152.6929" y1="766.3203" y2="766.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="931.7031" y="761.2544">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.9839" x="953.7939" y="761.2544">Confirm storage</text></g><g class="message" data-participant-1="AIUtil" data-participant-2="UI"><polygon fill="#181818" points="336.627,798.4531,326.627,802.4531,336.627,806.4531,332.627,802.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="330.627" x2="913.7031" y1="802.4531" y2="802.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="342.627" y="797.3872">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.8379" x="364.7178" y="797.3872">Return review summary</text></g><g class="message" data-participant-1="UI" data-participant-2="User"><polygon fill="#181818" points="69.9551,827.5859,59.9551,831.5859,69.9551,835.5859,65.9551,831.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="63.9551" x2="324.627" y1="831.5859" y2="831.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="75.9551" y="826.52">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.291" x="98.0459" y="826.52">Display summary with reviews</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="30" x2="1290.0908" y1="840.5859" y2="840.5859"/><g class="message" data-participant-1="UI" data-participant-2="User"><polygon fill="#181818" points="69.9551,858.7188,59.9551,862.7188,69.9551,866.7188,65.9551,862.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="63.9551" x2="324.627" y1="862.7188" y2="862.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="75.9551" y="857.6528">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.5811" x="98.0459" y="857.6528">Display reviews without summary</text></g><g class="message" data-participant-1="User" data-participant-2="UI"><polygon fill="#181818" points="313.627,894.8516,323.627,898.8516,313.627,902.8516,317.627,898.8516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="58.9551" x2="319.627" y1="898.8516" y2="898.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="65.9551" y="893.7856">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.0649" x="88.0459" y="893.7856">Click "Leave Review"</text></g><g class="message" data-participant-1="UI" data-participant-2="AuthUtil"><polygon fill="#181818" points="794.6074,923.9844,804.6074,927.9844,794.6074,931.9844,798.6074,927.9844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="800.6074" y1="927.9844" y2="927.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="922.9185">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.4619" x="354.7178" y="922.9185">getCurrentUser()</text></g><g class="message" data-participant-1="AuthUtil" data-participant-2="UI"><polygon fill="#181818" points="336.627,953.1172,326.627,957.1172,336.627,961.1172,332.627,957.1172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="330.627" x2="805.6074" y1="957.1172" y2="957.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="342.627" y="952.0513">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.8525" x="364.7178" y="952.0513">Return user data</text></g><path d="M10,972.1172 L74.4429,972.1172 L74.4429,979.25 L64.4429,989.25 L10,989.25 L10,972.1172" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="891.1328" style="stroke:#000000;stroke-width:1.5;" width="1290.0908" x="10" y="972.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="985.1841">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="128.3477" x="89.4429" y="984.3276">[user authenticated]</text><g class="message" data-participant-1="UI" data-participant-2="UI"><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="367.627" y1="1010.3828" y2="1010.3828"/><line style="stroke:#181818;stroke-width:1;" x1="367.627" x2="367.627" y1="1010.3828" y2="1023.3828"/><line style="stroke:#181818;stroke-width:1;" x1="326.627" x2="367.627" y1="1023.3828" y2="1023.3828"/><polygon fill="#181818" points="336.627,1019.3828,326.627,1023.3828,336.627,1027.3828,332.627,1023.3828" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="1005.3169">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.1587" x="354.7178" y="1005.3169">Show review form</text></g><g class="message" data-participant-1="User" data-participant-2="UI"><polygon fill="#181818" points="313.627,1048.5156,323.627,1052.5156,313.627,1056.5156,317.627,1052.5156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="58.9551" x2="319.627" y1="1052.5156" y2="1052.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="65.9551" y="1047.4497">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.0215" x="88.0459" y="1047.4497">Enter rating and comment</text></g><g class="message" data-participant-1="User" data-participant-2="UI"><polygon fill="#181818" points="313.627,1077.6484,323.627,1081.6484,313.627,1085.6484,317.627,1081.6484" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="58.9551" x2="319.627" y1="1081.6484" y2="1081.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="65.9551" y="1076.5825">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.5264" x="88.0459" y="1076.5825">Submit review</text></g><g class="message" data-participant-1="UI" data-participant-2="ValidationUtil"><polygon fill="#181818" points="535.4312,1106.7813,545.4312,1110.7813,535.4312,1114.7813,539.4312,1110.7813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="541.4312" y1="1110.7813" y2="1110.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="1105.7153">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.7114" x="354.7178" y="1105.7153">Validate review content</text></g><g class="message" data-participant-1="ValidationUtil" data-participant-2="UI"><polygon fill="#181818" points="336.627,1135.9141,326.627,1139.9141,336.627,1143.9141,332.627,1139.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="330.627" x2="546.4312" y1="1139.9141" y2="1139.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="342.627" y="1134.8481">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.2832" x="364.7178" y="1134.8481">Return validation result</text></g><path d="M20,1154.9141 L84.4429,1154.9141 L84.4429,1162.0469 L74.4429,1172.0469 L20,1172.0469 L20,1154.9141" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="657.3984" style="stroke:#000000;stroke-width:1.5;" width="1270.0908" x="20" y="1154.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="35" y="1167.981">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="118.1318" x="99.4429" y="1167.1245">[validation passes]</text><g class="message" data-participant-1="UI" data-participant-2="DBUtil"><polygon fill="#181818" points="675.1709,1189.1797,685.1709,1193.1797,675.1709,1197.1797,679.1709,1193.1797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="681.1709" y1="1193.1797" y2="1193.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="1188.1138">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254.3379" x="354.7178" y="1188.1138">checkReviewEligibility(userId, listingId)</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="Supabase"><polygon fill="#181818" points="1141.6929,1218.3125,1151.6929,1222.3125,1141.6929,1226.3125,1145.6929,1222.3125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="687.1709" x2="1147.6929" y1="1222.3125" y2="1222.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="694.1709" y="1217.2466">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253.938" x="716.2617" y="1217.2466">Check ownership and previous reviews</text></g><g class="message" data-participant-1="Supabase" data-participant-2="DBUtil"><polygon fill="#181818" points="698.1709,1247.4453,688.1709,1251.4453,698.1709,1255.4453,694.1709,1251.4453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="692.1709" x2="1152.6929" y1="1251.4453" y2="1251.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="704.1709" y="1246.3794">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.125" x="726.2617" y="1246.3794">Return eligibility status</text></g><path d="M30,1266.4453 L94.4429,1266.4453 L94.4429,1273.5781 L84.4429,1283.5781 L30,1283.5781 L30,1266.4453" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="494.9297" style="stroke:#000000;stroke-width:1.5;" width="1250.0908" x="30" y="1266.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="45" y="1279.5122">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="117.729" x="109.4429" y="1278.6558">[eligible to review]</text><g class="message" data-participant-1="UI" data-participant-2="DBUtil"><polygon fill="#181818" points="675.1709,1300.7109,685.1709,1304.7109,675.1709,1308.7109,679.1709,1304.7109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="681.1709" y1="1304.7109" y2="1304.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="1299.645">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315.4531" x="354.7178" y="1299.645">createReview(userId, listingId, rating, comment)</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="Supabase"><polygon fill="#181818" points="1141.6929,1329.8438,1151.6929,1333.8438,1141.6929,1337.8438,1145.6929,1333.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="687.1709" x2="1147.6929" y1="1333.8438" y2="1333.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="694.1709" y="1328.7778">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.6968" x="716.2617" y="1328.7778">Insert review</text></g><g class="message" data-participant-1="Supabase" data-participant-2="DBUtil"><polygon fill="#181818" points="698.1709,1358.9766,688.1709,1362.9766,698.1709,1366.9766,694.1709,1362.9766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="692.1709" x2="1152.6929" y1="1362.9766" y2="1362.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="704.1709" y="1357.9106">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.2979" x="726.2617" y="1357.9106">Return created review</text></g><g class="message" data-participant-1="UI" data-participant-2="AIUtil"><polygon fill="#181818" points="902.7031,1388.1094,912.7031,1392.1094,902.7031,1396.1094,906.7031,1392.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="908.7031" y1="1392.1094" y2="1392.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="1387.0435">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261.9106" x="354.7178" y="1387.0435">createReviewEmbedding(reviewId, text)</text></g><g class="message" data-participant-1="AIUtil" data-participant-2="OpenAI"><polygon fill="#181818" points="1225.5415,1417.2422,1235.5415,1421.2422,1225.5415,1425.2422,1229.5415,1421.2422" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="914.7031" x2="1231.5415" y1="1421.2422" y2="1421.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="921.7031" y="1416.1763">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.3662" x="943.7939" y="1416.1763">Generate embedding</text></g><g class="message" data-participant-1="OpenAI" data-participant-2="AIUtil"><polygon fill="#181818" points="925.7031,1446.375,915.7031,1450.375,925.7031,1454.375,921.7031,1450.375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="919.7031" x2="1236.5415" y1="1450.375" y2="1450.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="931.7031" y="1445.3091">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.9688" x="953.7939" y="1445.3091">Return embedding vector</text></g><g class="message" data-participant-1="AIUtil" data-participant-2="Supabase"><polygon fill="#181818" points="1141.6929,1475.5078,1151.6929,1479.5078,1141.6929,1483.5078,1145.6929,1479.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="914.7031" x2="1147.6929" y1="1479.5078" y2="1479.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="921.7031" y="1474.4419">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.707" x="943.7939" y="1474.4419">Store review embedding</text></g><g class="message" data-participant-1="Supabase" data-participant-2="AIUtil"><polygon fill="#181818" points="925.7031,1504.6406,915.7031,1508.6406,925.7031,1512.6406,921.7031,1508.6406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="919.7031" x2="1152.6929" y1="1508.6406" y2="1508.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="931.7031" y="1503.5747">42</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.9839" x="953.7939" y="1503.5747">Confirm storage</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="Supabase"><polygon fill="#181818" points="1141.6929,1533.7734,1151.6929,1537.7734,1141.6929,1541.7734,1145.6929,1537.7734" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="687.1709" x2="1147.6929" y1="1537.7734" y2="1537.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="694.1709" y="1532.7075">43</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.8052" x="716.2617" y="1532.7075">Mark listing summary for update</text></g><g class="message" data-participant-1="Supabase" data-participant-2="DBUtil"><polygon fill="#181818" points="698.1709,1562.9063,688.1709,1566.9063,698.1709,1570.9063,694.1709,1566.9063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="692.1709" x2="1152.6929" y1="1566.9063" y2="1566.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="704.1709" y="1561.8403">44</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.4038" x="726.2617" y="1561.8403">Confirm update</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="UI"><polygon fill="#181818" points="336.627,1592.0391,326.627,1596.0391,336.627,1600.0391,332.627,1596.0391" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="330.627" x2="686.1709" y1="1596.0391" y2="1596.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="342.627" y="1590.9731">45</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.9346" x="364.7178" y="1590.9731">Return success</text></g><g class="message" data-participant-1="UI" data-participant-2="UI"><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="367.627" y1="1625.1719" y2="1625.1719"/><line style="stroke:#181818;stroke-width:1;" x1="367.627" x2="367.627" y1="1625.1719" y2="1638.1719"/><line style="stroke:#181818;stroke-width:1;" x1="326.627" x2="367.627" y1="1638.1719" y2="1638.1719"/><polygon fill="#181818" points="336.627,1634.1719,326.627,1638.1719,336.627,1642.1719,332.627,1638.1719" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="1620.106">46</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.2832" x="354.7178" y="1620.106">Add review to display</text></g><g class="message" data-participant-1="UI" data-participant-2="UI"><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="367.627" y1="1667.3047" y2="1667.3047"/><line style="stroke:#181818;stroke-width:1;" x1="367.627" x2="367.627" y1="1667.3047" y2="1680.3047"/><line style="stroke:#181818;stroke-width:1;" x1="326.627" x2="367.627" y1="1680.3047" y2="1680.3047"/><polygon fill="#181818" points="336.627,1676.3047,326.627,1680.3047,336.627,1684.3047,332.627,1680.3047" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="1662.2388">47</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.0752" x="354.7178" y="1662.2388">Update average rating</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="30" x2="1280.0908" y1="1689.3047" y2="1689.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="80.2817" x="35" y="1699.5151">[not eligible]</text><g class="message" data-participant-1="DBUtil" data-participant-2="UI"><polygon fill="#181818" points="336.627,1720.2422,326.627,1724.2422,336.627,1728.2422,332.627,1724.2422" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="330.627" x2="686.1709" y1="1724.2422" y2="1724.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="342.627" y="1719.1763">48</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297.5464" x="364.7178" y="1719.1763">Return reason (own listing, already reviewed)</text></g><g class="message" data-participant-1="UI" data-participant-2="User"><polygon fill="#181818" points="69.9551,1749.375,59.9551,1753.375,69.9551,1757.375,65.9551,1753.375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="63.9551" x2="324.627" y1="1753.375" y2="1753.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="75.9551" y="1748.3091">49</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.291" x="98.0459" y="1748.3091">Show eligibility error</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="20" x2="1290.0908" y1="1769.375" y2="1769.375"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="102.0293" x="25" y="1779.5854">[validation fails]</text><g class="message" data-participant-1="UI" data-participant-2="User"><polygon fill="#181818" points="69.9551,1800.3125,59.9551,1804.3125,69.9551,1808.3125,65.9551,1804.3125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="63.9551" x2="324.627" y1="1804.3125" y2="1804.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="75.9551" y="1799.2466">50</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.104" x="98.0459" y="1799.2466">Show validation errors</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="10" x2="1300.0908" y1="1820.3125" y2="1820.3125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="121.7305" x="15" y="1830.5229">[not authenticated]</text><g class="message" data-participant-1="UI" data-participant-2="User"><polygon fill="#181818" points="69.9551,1851.25,59.9551,1855.25,69.9551,1859.25,65.9551,1855.25" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="63.9551" x2="324.627" y1="1855.25" y2="1855.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="75.9551" y="1850.1841">51</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.0664" x="98.0459" y="1850.1841">Redirect to login page</text></g><g class="message" data-participant-1="User" data-participant-2="UI"><polygon fill="#181818" points="313.627,1887.3828,323.627,1891.3828,313.627,1895.3828,317.627,1891.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="58.9551" x2="319.627" y1="1891.3828" y2="1891.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="65.9551" y="1886.3169">52</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.8037" x="88.0459" y="1886.3169">Click edit on review</text></g><g class="message" data-participant-1="UI" data-participant-2="AuthUtil"><polygon fill="#181818" points="794.6074,1916.5156,804.6074,1920.5156,794.6074,1924.5156,798.6074,1920.5156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="800.6074" y1="1920.5156" y2="1920.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="1915.4497">53</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.4619" x="354.7178" y="1915.4497">getCurrentUser()</text></g><g class="message" data-participant-1="AuthUtil" data-participant-2="UI"><polygon fill="#181818" points="336.627,1945.6484,326.627,1949.6484,336.627,1953.6484,332.627,1949.6484" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="330.627" x2="805.6074" y1="1949.6484" y2="1949.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="342.627" y="1944.5825">54</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.8525" x="364.7178" y="1944.5825">Return user data</text></g><g class="message" data-participant-1="UI" data-participant-2="DBUtil"><polygon fill="#181818" points="675.1709,1974.7813,685.1709,1978.7813,675.1709,1982.7813,679.1709,1978.7813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="681.1709" y1="1978.7813" y2="1978.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="1973.7153">55</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268.563" x="354.7178" y="1973.7153">checkReviewOwnership(userId, reviewId)</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="Supabase"><polygon fill="#181818" points="1141.6929,2003.9141,1151.6929,2007.9141,1141.6929,2011.9141,1145.6929,2007.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="687.1709" x2="1147.6929" y1="2007.9141" y2="2007.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="694.1709" y="2002.8481">56</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.7046" x="716.2617" y="2002.8481">Verify review ownership</text></g><g class="message" data-participant-1="Supabase" data-participant-2="DBUtil"><polygon fill="#181818" points="698.1709,2033.0469,688.1709,2037.0469,698.1709,2041.0469,694.1709,2037.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="692.1709" x2="1152.6929" y1="2037.0469" y2="2037.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="704.1709" y="2031.981">57</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.2056" x="726.2617" y="2031.981">Return ownership status</text></g><path d="M20,2052.0469 L84.4429,2052.0469 L84.4429,2059.1797 L74.4429,2069.1797 L20,2069.1797 L20,2052.0469" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="699.5313" style="stroke:#000000;stroke-width:1.5;" width="1270.0908" x="20" y="2052.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="35" y="2065.1138">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="118.5239" x="99.4429" y="2064.2573">[user owns review]</text><g class="message" data-participant-1="UI" data-participant-2="UI"><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="367.627" y1="2090.3125" y2="2090.3125"/><line style="stroke:#181818;stroke-width:1;" x1="367.627" x2="367.627" y1="2090.3125" y2="2103.3125"/><line style="stroke:#181818;stroke-width:1;" x1="326.627" x2="367.627" y1="2103.3125" y2="2103.3125"/><polygon fill="#181818" points="336.627,2099.3125,326.627,2103.3125,336.627,2107.3125,332.627,2103.3125" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="2085.2466">58</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.2803" x="354.7178" y="2085.2466">Show edit interface</text></g><g class="message" data-participant-1="User" data-participant-2="UI"><polygon fill="#181818" points="313.627,2128.4453,323.627,2132.4453,313.627,2136.4453,317.627,2132.4453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="58.9551" x2="319.627" y1="2132.4453" y2="2132.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="65.9551" y="2127.3794">59</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.9609" x="88.0459" y="2127.3794">Edit rating/comment</text></g><g class="message" data-participant-1="User" data-participant-2="UI"><polygon fill="#181818" points="313.627,2157.5781,323.627,2161.5781,313.627,2165.5781,317.627,2161.5781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="58.9551" x2="319.627" y1="2161.5781" y2="2161.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="65.9551" y="2156.5122">60</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.8633" x="88.0459" y="2156.5122">Submit changes</text></g><g class="message" data-participant-1="UI" data-participant-2="ValidationUtil"><polygon fill="#181818" points="535.4312,2186.7109,545.4312,2190.7109,535.4312,2194.7109,539.4312,2190.7109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="541.4312" y1="2190.7109" y2="2190.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="2185.645">61</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.6421" x="354.7178" y="2185.645">Validate edited content</text></g><g class="message" data-participant-1="ValidationUtil" data-participant-2="UI"><polygon fill="#181818" points="336.627,2215.8438,326.627,2219.8438,336.627,2223.8438,332.627,2219.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="330.627" x2="546.4312" y1="2219.8438" y2="2219.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="342.627" y="2214.7778">62</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.2832" x="364.7178" y="2214.7778">Return validation result</text></g><path d="M30,2234.8438 L94.4429,2234.8438 L94.4429,2241.9766 L84.4429,2251.9766 L30,2251.9766 L30,2234.8438" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="465.7969" style="stroke:#000000;stroke-width:1.5;" width="1250.0908" x="30" y="2234.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="45" y="2247.9106">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="118.1318" x="109.4429" y="2247.0542">[validation passes]</text><g class="message" data-participant-1="UI" data-participant-2="DBUtil"><polygon fill="#181818" points="675.1709,2269.1094,685.1709,2273.1094,675.1709,2277.1094,679.1709,2273.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="681.1709" y1="2273.1094" y2="2273.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="2268.0435">63</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275.082" x="354.7178" y="2268.0435">updateReview(reviewId, rating, comment)</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="Supabase"><polygon fill="#181818" points="1141.6929,2298.2422,1151.6929,2302.2422,1141.6929,2306.2422,1145.6929,2302.2422" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="687.1709" x2="1147.6929" y1="2302.2422" y2="2302.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="694.1709" y="2297.1763">64</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.6641" x="716.2617" y="2297.1763">Update review record</text></g><g class="message" data-participant-1="Supabase" data-participant-2="DBUtil"><polygon fill="#181818" points="698.1709,2327.375,688.1709,2331.375,698.1709,2335.375,694.1709,2331.375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="692.1709" x2="1152.6929" y1="2331.375" y2="2331.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="704.1709" y="2326.3091">65</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.4038" x="726.2617" y="2326.3091">Confirm update</text></g><g class="message" data-participant-1="UI" data-participant-2="AIUtil"><polygon fill="#181818" points="902.7031,2356.5078,912.7031,2360.5078,902.7031,2364.5078,906.7031,2360.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="908.7031" y1="2360.5078" y2="2360.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="2355.4419">66</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295.877" x="354.7178" y="2355.4419">updateReviewEmbedding(reviewId, newText)</text></g><g class="message" data-participant-1="AIUtil" data-participant-2="OpenAI"><polygon fill="#181818" points="1225.5415,2385.6406,1235.5415,2389.6406,1225.5415,2393.6406,1229.5415,2389.6406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="914.7031" x2="1231.5415" y1="2389.6406" y2="2389.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="921.7031" y="2384.5747">67</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.3682" x="943.7939" y="2384.5747">Generate new embedding</text></g><g class="message" data-participant-1="OpenAI" data-participant-2="AIUtil"><polygon fill="#181818" points="925.7031,2414.7734,915.7031,2418.7734,925.7031,2422.7734,921.7031,2418.7734" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="919.7031" x2="1236.5415" y1="2418.7734" y2="2418.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="931.7031" y="2413.7075">68</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.9688" x="953.7939" y="2413.7075">Return embedding vector</text></g><g class="message" data-participant-1="AIUtil" data-participant-2="Supabase"><polygon fill="#181818" points="1141.6929,2443.9063,1151.6929,2447.9063,1141.6929,2451.9063,1145.6929,2447.9063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="914.7031" x2="1147.6929" y1="2447.9063" y2="2447.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="921.7031" y="2442.8403">69</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.1421" x="943.7939" y="2442.8403">Update review embedding</text></g><g class="message" data-participant-1="Supabase" data-participant-2="AIUtil"><polygon fill="#181818" points="925.7031,2473.0391,915.7031,2477.0391,925.7031,2481.0391,921.7031,2477.0391" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="919.7031" x2="1152.6929" y1="2477.0391" y2="2477.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="931.7031" y="2471.9731">70</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.4038" x="953.7939" y="2471.9731">Confirm update</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="Supabase"><polygon fill="#181818" points="1141.6929,2502.1719,1151.6929,2506.1719,1141.6929,2510.1719,1145.6929,2506.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="687.1709" x2="1147.6929" y1="2506.1719" y2="2506.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="694.1709" y="2501.106">71</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.8052" x="716.2617" y="2501.106">Mark listing summary for update</text></g><g class="message" data-participant-1="Supabase" data-participant-2="DBUtil"><polygon fill="#181818" points="698.1709,2531.3047,688.1709,2535.3047,698.1709,2539.3047,694.1709,2535.3047" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="692.1709" x2="1152.6929" y1="2535.3047" y2="2535.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="704.1709" y="2530.2388">72</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.4038" x="726.2617" y="2530.2388">Confirm update</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="UI"><polygon fill="#181818" points="336.627,2560.4375,326.627,2564.4375,336.627,2568.4375,332.627,2564.4375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="330.627" x2="686.1709" y1="2564.4375" y2="2564.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="342.627" y="2559.3716">73</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.9346" x="364.7178" y="2559.3716">Return success</text></g><g class="message" data-participant-1="UI" data-participant-2="UI"><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="367.627" y1="2593.5703" y2="2593.5703"/><line style="stroke:#181818;stroke-width:1;" x1="367.627" x2="367.627" y1="2593.5703" y2="2606.5703"/><line style="stroke:#181818;stroke-width:1;" x1="326.627" x2="367.627" y1="2606.5703" y2="2606.5703"/><polygon fill="#181818" points="336.627,2602.5703,326.627,2606.5703,336.627,2610.5703,332.627,2606.5703" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="2588.5044">74</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.7671" x="354.7178" y="2588.5044">Update review in display</text></g><g class="message" data-participant-1="UI" data-participant-2="UI"><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="367.627" y1="2635.7031" y2="2635.7031"/><line style="stroke:#181818;stroke-width:1;" x1="367.627" x2="367.627" y1="2635.7031" y2="2648.7031"/><line style="stroke:#181818;stroke-width:1;" x1="326.627" x2="367.627" y1="2648.7031" y2="2648.7031"/><polygon fill="#181818" points="336.627,2644.7031,326.627,2648.7031,336.627,2652.7031,332.627,2648.7031" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="2630.6372">75</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.0752" x="354.7178" y="2630.6372">Update average rating</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="30" x2="1280.0908" y1="2657.7031" y2="2657.7031"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="102.0293" x="35" y="2667.9136">[validation fails]</text><g class="message" data-participant-1="UI" data-participant-2="User"><polygon fill="#181818" points="69.9551,2688.6406,59.9551,2692.6406,69.9551,2696.6406,65.9551,2692.6406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="63.9551" x2="324.627" y1="2692.6406" y2="2692.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="75.9551" y="2687.5747">76</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.104" x="98.0459" y="2687.5747">Show validation errors</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="20" x2="1290.0908" y1="2708.6406" y2="2708.6406"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="72.9663" x="25" y="2718.8511">[not owner]</text><g class="message" data-participant-1="UI" data-participant-2="User"><polygon fill="#181818" points="69.9551,2739.5781,59.9551,2743.5781,69.9551,2747.5781,65.9551,2743.5781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="63.9551" x2="324.627" y1="2743.5781" y2="2743.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="75.9551" y="2738.5122">77</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.7515" x="98.0459" y="2738.5122">Show error message</text></g><g class="message" data-participant-1="User" data-participant-2="UI"><polygon fill="#181818" points="313.627,2775.7109,323.627,2779.7109,313.627,2783.7109,317.627,2779.7109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="58.9551" x2="319.627" y1="2779.7109" y2="2779.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="65.9551" y="2774.645">78</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.7998" x="88.0459" y="2774.645">Click delete on review</text></g><g class="message" data-participant-1="UI" data-participant-2="UI"><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="367.627" y1="2808.8438" y2="2808.8438"/><line style="stroke:#181818;stroke-width:1;" x1="367.627" x2="367.627" y1="2808.8438" y2="2821.8438"/><line style="stroke:#181818;stroke-width:1;" x1="326.627" x2="367.627" y1="2821.8438" y2="2821.8438"/><polygon fill="#181818" points="336.627,2817.8438,326.627,2821.8438,336.627,2825.8438,332.627,2821.8438" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="2803.7778">79</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.3945" x="354.7178" y="2803.7778">Show confirmation dialog</text></g><g class="message" data-participant-1="User" data-participant-2="UI"><polygon fill="#181818" points="313.627,2846.9766,323.627,2850.9766,313.627,2854.9766,317.627,2850.9766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="58.9551" x2="319.627" y1="2850.9766" y2="2850.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="65.9551" y="2845.9106">80</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.3608" x="88.0459" y="2845.9106">Confirm deletion</text></g><g class="message" data-participant-1="UI" data-participant-2="AuthUtil"><polygon fill="#181818" points="794.6074,2876.1094,804.6074,2880.1094,794.6074,2884.1094,798.6074,2880.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="800.6074" y1="2880.1094" y2="2880.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="2875.0435">81</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.4619" x="354.7178" y="2875.0435">getCurrentUser()</text></g><g class="message" data-participant-1="AuthUtil" data-participant-2="UI"><polygon fill="#181818" points="336.627,2905.2422,326.627,2909.2422,336.627,2913.2422,332.627,2909.2422" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="330.627" x2="805.6074" y1="2909.2422" y2="2909.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="342.627" y="2904.1763">82</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.8525" x="364.7178" y="2904.1763">Return user data</text></g><g class="message" data-participant-1="UI" data-participant-2="DBUtil"><polygon fill="#181818" points="675.1709,2934.375,685.1709,2938.375,675.1709,2942.375,679.1709,2938.375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="681.1709" y1="2938.375" y2="2938.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="2933.3091">83</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268.563" x="354.7178" y="2933.3091">checkReviewOwnership(userId, reviewId)</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="Supabase"><polygon fill="#181818" points="1141.6929,2963.5078,1151.6929,2967.5078,1141.6929,2971.5078,1145.6929,2967.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="687.1709" x2="1147.6929" y1="2967.5078" y2="2967.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="694.1709" y="2962.4419">84</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.7046" x="716.2617" y="2962.4419">Verify review ownership</text></g><g class="message" data-participant-1="Supabase" data-participant-2="DBUtil"><polygon fill="#181818" points="698.1709,2992.6406,688.1709,2996.6406,698.1709,3000.6406,694.1709,2996.6406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="692.1709" x2="1152.6929" y1="2996.6406" y2="2996.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="704.1709" y="2991.5747">85</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.2056" x="726.2617" y="2991.5747">Return ownership status</text></g><path d="M30,3011.6406 L94.4429,3011.6406 L94.4429,3018.7734 L84.4429,3028.7734 L30,3028.7734 L30,3011.6406" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="320.1328" style="stroke:#000000;stroke-width:1.5;" width="1174.9922" x="30" y="3011.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="45" y="3024.7075">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="118.5239" x="109.4429" y="3023.8511">[user owns review]</text><g class="message" data-participant-1="UI" data-participant-2="DBUtil"><polygon fill="#181818" points="675.1709,3045.9063,685.1709,3049.9063,675.1709,3053.9063,679.1709,3049.9063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="681.1709" y1="3049.9063" y2="3049.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="3044.8403">86</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.4292" x="354.7178" y="3044.8403">deleteReview(reviewId)</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="Supabase"><polygon fill="#181818" points="1141.6929,3075.0391,1151.6929,3079.0391,1141.6929,3083.0391,1145.6929,3079.0391" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="687.1709" x2="1147.6929" y1="3079.0391" y2="3079.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="694.1709" y="3073.9731">87</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.2969" x="716.2617" y="3073.9731">Delete review record</text></g><g class="message" data-participant-1="Supabase" data-participant-2="DBUtil"><polygon fill="#181818" points="698.1709,3104.1719,688.1709,3108.1719,698.1709,3112.1719,694.1709,3108.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="692.1709" x2="1152.6929" y1="3108.1719" y2="3108.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="704.1709" y="3103.106">88</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.3608" x="726.2617" y="3103.106">Confirm deletion</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="Supabase"><polygon fill="#181818" points="1141.6929,3133.3047,1151.6929,3137.3047,1141.6929,3141.3047,1145.6929,3137.3047" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="687.1709" x2="1147.6929" y1="3137.3047" y2="3137.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="694.1709" y="3132.2388">89</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.8052" x="716.2617" y="3132.2388">Mark listing summary for update</text></g><g class="message" data-participant-1="Supabase" data-participant-2="DBUtil"><polygon fill="#181818" points="698.1709,3162.4375,688.1709,3166.4375,698.1709,3170.4375,694.1709,3166.4375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="692.1709" x2="1152.6929" y1="3166.4375" y2="3166.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="704.1709" y="3161.3716">90</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.4038" x="726.2617" y="3161.3716">Confirm update</text></g><g class="message" data-participant-1="DBUtil" data-participant-2="UI"><polygon fill="#181818" points="336.627,3191.5703,326.627,3195.5703,336.627,3199.5703,332.627,3195.5703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="330.627" x2="686.1709" y1="3195.5703" y2="3195.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="342.627" y="3190.5044">91</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.9346" x="364.7178" y="3190.5044">Return success</text></g><g class="message" data-participant-1="UI" data-participant-2="UI"><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="367.627" y1="3224.7031" y2="3224.7031"/><line style="stroke:#181818;stroke-width:1;" x1="367.627" x2="367.627" y1="3224.7031" y2="3237.7031"/><line style="stroke:#181818;stroke-width:1;" x1="326.627" x2="367.627" y1="3237.7031" y2="3237.7031"/><polygon fill="#181818" points="336.627,3233.7031,326.627,3237.7031,336.627,3241.7031,332.627,3237.7031" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="3219.6372">92</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185.7134" x="354.7178" y="3219.6372">Remove review from display</text></g><g class="message" data-participant-1="UI" data-participant-2="UI"><line style="stroke:#181818;stroke-width:1;" x1="325.627" x2="367.627" y1="3266.8359" y2="3266.8359"/><line style="stroke:#181818;stroke-width:1;" x1="367.627" x2="367.627" y1="3266.8359" y2="3279.8359"/><line style="stroke:#181818;stroke-width:1;" x1="326.627" x2="367.627" y1="3279.8359" y2="3279.8359"/><polygon fill="#181818" points="336.627,3275.8359,326.627,3279.8359,336.627,3283.8359,332.627,3279.8359" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="332.627" y="3261.77">93</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.0752" x="354.7178" y="3261.77">Update average rating</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="30" x2="1204.9922" y1="3288.8359" y2="3288.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="72.9663" x="35" y="3299.0464">[not owner]</text><g class="message" data-participant-1="UI" data-participant-2="User"><polygon fill="#181818" points="69.9551,3319.7734,59.9551,3323.7734,69.9551,3327.7734,65.9551,3323.7734" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="63.9551" x2="324.627" y1="3323.7734" y2="3323.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="75.9551" y="3318.7075">94</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.7515" x="98.0459" y="3318.7075">Show error message</text></g><!--SRC=[vLTDR-Cs4BthLn2vh0raiNSV2gHsMXZOnRPnapiZZcqYagYIbBFvznr-YQ9CoOQxwAK-69Oqd9at7-_9ckiAo1ESEBoJRxIX1wYXqMG7VtVGb40sd1uahSbY0ueV6lB7aIfO5hJJekdgLv15GKij97bM-BkbKlEIjnHTF6y9LUJEt2VRHeFSqnBk4fCNMd56DHVDi-QLDO-tYBd7zKTwPFDhRxgXchvYDdd3XquVUrDpCM6sZKRRlCckQssSvERt5fg7RL5y8Y-cTAw2YlnMYVV2Glxy2rPWvPvMN6dU70W3JNcb2YmDFdPGLkG0-gipy5uMtdxBbeN7Y-OXZHNvimFvGQGF-SuH6_RZY4tWpLuKmP1y7WHv0jt9fZ-49QQzRv-gDzaBMLEjWGNZOZfVQhulfRkcLTbLL0EX9v0uOKJQS_E9MXEYDDLg8b5lOg4KjDAaxYhDMvpdW19-O6O5mOz3u9fj4RXIxxgwfl9ZYC1Oso_ZKRddpf6ojyt73qscATRG9kvEzaSIh24F3wIavH7BFJm25PeUeC5wOTqQdA6nmvZ3e2yErLhWkZLwZCfySltv7RIl6D7mOm3pyY2HqeKwytyECXiXWyOjbidAWmyzi7FUIg6-OD3emjdd8YARLH-ApqQBLTWXYSLWk0Hatw4R81rk_cmNiTnxBckSLM6cs_MlON6IGhZH-Bg23FlgfjJGnmg9LxKL_KZXXuqqup5vOaWCekk7k30v8L-j9PYoUiu_8wnrnSitSlSLS5czqLrWWC2fTjRMdPJOUdDsiInwkXsXx8phkABsqf0LdkGbvi66CF3OxYZUGsaC4xd7W_mUZPI4tQSDmn6iwp22GyDTzrhpCDcn6IvKgZohS0svkHwfr0ZWAGgM18KCb3B8u75BbO8uZIcf8WEKRwxSZnK_y5ShH0jJhosx9rUkyjfu8U8TLqSTUMlhqnf8ebFzy5optX1pi1pSPRR8m7DsIBbQ32izWT5EdWDvZkpUD_K-T7IPkCh1tJReHES2ps5pQR3SiUJYK-GWm3STnip46MAO11eOOGZqCHnTk6C6g2715DqC__MnamFJj1TpFO5vCvk8CsO-F_ZvQ5VptaGXlr7vbd1hrvfjkzXWUwvA9NNgVBRb8SUCVJPukjkgAqjGAjDfO_J0MAzgWZ37lXEsppR- -0Kes5crRqHSfojomn5JI2eBNFPGeNjSIRpDWWG0M-RIiM9XUNQuvI3bO5Q2VjdC1Xosj- -lamu7bjQVwiMmXpX9_jRB4p0kSMnDHIjnu8OrSRIyT3qo9FHvuG9Z8eAw_XpXccJgxu5eUpOBEvv_4tu1oVUXEv6cPr-48vbx7euwYe_Ka8n6AcfBmSC_htCXDO_T87wveA7baJO7BrtNYAY93Eo_5r6tvLvW8jrEwagkHtvJVOzm5eLanIqSKqJwypvdLIHLa26Id8BWFuA_4X6P4P0cI-it24XEFD9odOUPLOxfYbqIZ7yZ5ZSryJg1E2DyNnVaiR4-NACDFvzzBPiKUJ4mHqYDS0QCku4ABlvPOCueikw8Y4fNMvSPunI9FVNYQs_zeCt_aRN3ULVB4OMvDS_bvljppbQpGzuNkX_n-OsxTTkktRJYkWsBO_K4jJZriFTIrCb-NTgjczRX7m00]--></g></svg>